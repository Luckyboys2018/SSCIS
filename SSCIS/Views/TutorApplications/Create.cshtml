@model SSCIS.Models.Meta.MetaTutorApplication

@{
    ViewBag.Title = SSCISResources.Resource.TUTOR_APPLICATION;
    ViewBag.ActiveMenuItem = "menu-tutor";
}

<div class="body-content container-fluid text-center">
    <div class="row content">
        <div class="col-sm-2 sidenav">
        </div>

        <div class="col-sm-8 text-left">
            <h1>Chci pomáhat</h1>
            <p>Hledáme tutory, tj. studenty/studentky 3.- 5. ročníku FAV, kteří by si chtěli přivydělat poskytováním konzultací mladším spolužákům. <strong>Nabízíme 190,- Kč na hodinu, požadujeme dobré znalosti alespoň některého z doučovaných předmětů</strong> tj. na úrovni známky výborně nebo alespoň velmi dobře.</p>
            <hr>
            <p>Máte-li zájem, vyplňte prosím formulář níže.</p>
            <div class="well">
                <div class="container">
                    <h2>Žádost o tutorství</h2>
                    @using (Html.BeginForm())
                    {
                        @Html.AntiForgeryToken();
                        <div style="display: none;">
                            @Html.EditorFor(m => m.SubjectData);
                        </div>
                        for (int i = 0; i <  Model.CountOfSubjects; i++)
                        {
                            <div class="row">
                                <div class="form-group">
                                    @Html.LabelFor(model => model.Application.ApplicationSubjects.ElementAt(i).SubjectID, SSCISResources.Resource.SUBJECT, htmlAttributes: new { @class = "control-label col-md-2" })
                                    <div class="col-md-10">
                                        @Html.DropDownList("SubjectID", null, htmlAttributes: new { @class = "form-control subject" })
                                    </div>
                                </div>
                                <div class="form-group">
                                    @Html.LabelFor(model => model.Application.ApplicationSubjects.ElementAt(i).Degree, SSCISResources.Resource.DEGREE, htmlAttributes: new { @class = "control-label col-md-2" })
                                    <div class="col-md-10">
                                        <div class="checkbox">
                                            @Html.DropDownList("Degree", null, htmlAttributes: new { @class = "form-control degree" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }
                        @Html.ActionLink(SSCISResources.Resource.ADD_SUBJECT, "Create", new { count = ViewBag.NextCount })
                        <br />
                        <br />
                        <div class="form-group submit" style="vertical-align: bottom">
                            <button type="submit" class="btn btn-default">Odeslat</button>
                        </div>
                    }
                </div>
            </div>
            <p>Máte-li další dotazy, ozvěte se prosím Světlaně Tomiczkové na e-mail <a href="mailto:svetlana@kma.zcu.cz">svetlana@kma.zcu.cz</a>, případně přijďte osobně do UC 258.</p>
        </div>
        @if (Session["role"] != null && Session["role"].Equals("ADMIN"))
        {
            <div class="col-sm-2 sidenav">
            </div>
        }
        else
        {
            <div class="col-sm-2 sidenav">
                <div class="well">
                    <p>
                        ROZVRH
                        PO PRIHLASENI
                    </p>
                </div>
            </div>
        }
    </div>
</div>

<script>
    function setData() {
        $('#SubjectData')[0].value = '';

        $('.subject').each(function (index) {
            $('#SubjectData')[0].value += $('.subject')[index].value;
            $('#SubjectData')[0].value += ' '
        });

        $('#SubjectData')[0].value += ';'

        $('.degree').each(function (index) {
            $('#SubjectData')[0].value += $('.degree')[index].value;
            $('#SubjectData')[0].value += ' '
        });
    }

    $(document).ready(function () {
        $('.subject').each(function () {
            $(this).change(setData);
        });
        $('.degree').each(function () {
            $(this).change(setData);
        });
    });

    setData();
</script>
